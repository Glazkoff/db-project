# "–ü–æ–≤–∞—Ä–µ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞" - –ø—Ä–æ–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º docker-compose

_–í—ã–ø–æ–ª–Ω–∏–ª:_
—Å—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã –ú–ò–í–¢-22-5 **–ì–ª–∞–∑–∫–æ–≤ –ù–∏–∫–∏—Ç–∞**

## –û–ø–∏—Å–∞–Ω–∏–µ

"–ü–æ–≤–∞—Ä–µ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞" - —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Flask, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –°–£–ë–î PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤, —Ä–µ—Ü–µ–ø—Ç–∞—Ö, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞—Ö –∏ –µ–¥–∏–Ω–∏—Ü–∞—Ö –∏–∑–º–µ—Ä–µ–Ω–∏—è.
–¢–∞–±–ª–∏—Ü–∞ 'users' –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, —Ç–∞–∫–æ–π –∫–∞–∫ –∏–º—è, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ –∏ –ø–∞—Ä–æ–ª—å. –¢–∞–±–ª–∏—Ü–∞ 'categories' –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫. –¢–∞–±–ª–∏—Ü–∞ 'receipts' –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ—Ü–µ–ø—Ç–∞—Ö, —Ç–∞–∫–æ–π –∫–∞–∫ –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–µ–∫—Å—Ç, –∞–≤—Ç–æ—Ä–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ä–µ—Ü–µ–ø—Ç–∞. –¢–∞–±–ª–∏—Ü–∞ 'ingredients' –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤, –∞ —Ç–∞–±–ª–∏—Ü–∞ 'units' –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è. –ù–∞–∫–æ–Ω–µ—Ü, —Ç–∞–±–ª–∏—Ü–∞ 'ingredients_in_receipts' –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Ä–µ—Ü–µ–ø—Ç–æ–º.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ú–æ—Å–∫–≤—ã, –∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Ç–æ–≥–æ, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ –≤ —Ä–µ—Ü–µ–ø—Ç–µ –≤—Å–µ–≥–¥–∞ –±–æ–ª—å—à–µ 0. –¢–∞–∫–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–ª—è updated_at –Ω–∞ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–µ—Ü–µ–ø—Ç–∞. –î–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –Ω–∞—à–µ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

|   ‚Ññ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ                                    | –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ª–∏ |      –ü—Ä–∏–º–µ—Ä –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö      |
| --: | --------------------------------------------- | :----------: | :-------------------------: |
|  1. | CRUD                                          |      ‚úÖ      |        `receipts.py`        |
|  2. | Where —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º —Ç—Ä—ë—Ö —Ç–∞–±–ª–∏—Ü              |      ‚úÖ      | `receipts.py`, ~220 —Å—Ç—Ä–æ–∫–∞  |
|  3. | –í–ª–æ–∂–µ–Ω–Ω—ã–π select                              |      ‚úÖ      | `categories.py`, ~55 —Å—Ç—Ä–æ–∫–∞ |
|  4. | Join                                          |      ‚úÖ      | `receipts.py`, ~202 —Å—Ç—Ä–æ–∫–∞  |
|  5. | –ê–≥—Ä–µ–≥–∞—Ü–∏—è                                     |      ‚úÖ      |   `admin.py`, ~110 —Å—Ç—Ä–æ–∫–∞   |
|  6. | –¢—Ä–∏–≥–≥–µ—Ä—ã, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã                           |      ‚úÖ      |  `schema.sql`, ~60 —Å—Ç—Ä–æ–∫–∞   |
|  7. | –ö—Ä–∞—Å–∏–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–¥                         |      ‚úÖ      |        `erd.drawio`         |
|  8. | –°–≤—è–∑–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π sql-–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |      ‚úÖ      |    `docker-compose.yml`     |
|  9. | –°–∫—Ä–∏–ø—Ç —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏                            |      ‚úÖ      |      `./backend/views`      |
| 10. | –°—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ –º–Ω–µ–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è             |      ‚ùî      |        –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ü•≤         |
| 11. | Docker                                        |      ‚úÖ      |    `docker-compose.yml`     |
| 12. | –ó–Ω–∞–Ω–∏—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫—É—Ä—Å–∞                     |      ‚úÖ      | `receipts.py`, ~180 —Å—Ç—Ä–æ–∫–∞  |

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Docker (+ Docker Compose)
- PostgreSQL
- Flask (+ —à–∞–±–ª–æ–Ω—ã jinja2)
- Nginx
- Shell-—Å–∫—Ä–∏–ø—Ç—ã
- Gunicorn
- Poetry

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã

- –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –ø–æ —Ñ–æ—Ä–º–∞—Ç—É `.env.example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `docker compose up --build` - –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ **—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
- `docker compose -f docker-compose-prod.yml up --build -d` - –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ **–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**
